<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Learn Python Decorators | Evgeny Roskach's blog</title><meta name=keywords content="python,decorators,programming,tutorial,functional programming,composed functions"><meta name=description content="Originally posted on 2020-04-03
Whether you are a beginner or an advanced programmer, there are many reasons why you should choose Python for your next coding project. Python is a scripted language with an almost stupidly simple syntax, it is easy to learn and powerful to use. One of the main reasons that I love people love Python is that it offers quite a few specific metaphors (a.k.a. paradigms) for doing certain things."><meta name=author content="Evgeny Roskach"><link rel=canonical href=https://genyrosk.github.io/posts/2023-03-05-learn-python-decorators/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://genyrosk.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://genyrosk.github.io/favicon16x16.png><link rel=icon type=image/png sizes=32x32 href=https://genyrosk.github.io/favicon32x32.png><link rel=apple-touch-icon href=https://genyrosk.github.io/apple_touch_icon.png><link rel=mask-icon href=https://genyrosk.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Learn Python Decorators"><meta property="og:description" content="Originally posted on 2020-04-03
Whether you are a beginner or an advanced programmer, there are many reasons why you should choose Python for your next coding project. Python is a scripted language with an almost stupidly simple syntax, it is easy to learn and powerful to use. One of the main reasons that I love people love Python is that it offers quite a few specific metaphors (a.k.a. paradigms) for doing certain things."><meta property="og:type" content="article"><meta property="og:url" content="https://genyrosk.github.io/posts/2023-03-05-learn-python-decorators/"><meta property="og:image" content="https://avatars.githubusercontent.com/u/9571838?v4"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-05T22:09:57+09:00"><meta property="article:modified_time" content="2023-03-05T22:09:57+09:00"><meta property="og:site_name" content="genyrosk's blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://avatars.githubusercontent.com/u/9571838?v4"><meta name=twitter:title content="Learn Python Decorators"><meta name=twitter:description content="Originally posted on 2020-04-03
Whether you are a beginner or an advanced programmer, there are many reasons why you should choose Python for your next coding project. Python is a scripted language with an almost stupidly simple syntax, it is easy to learn and powerful to use. One of the main reasons that I love people love Python is that it offers quite a few specific metaphors (a.k.a. paradigms) for doing certain things."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://genyrosk.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Learn Python Decorators","item":"https://genyrosk.github.io/posts/2023-03-05-learn-python-decorators/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Learn Python Decorators","name":"Learn Python Decorators","description":"Originally posted on 2020-04-03\nWhether you are a beginner or an advanced programmer, there are many reasons why you should choose Python for your next coding project. Python is a scripted language with an almost stupidly simple syntax, it is easy to learn and powerful to use. One of the main reasons that I love people love Python is that it offers quite a few specific metaphors (a.k.a. paradigms) for doing certain things.","keywords":["python","decorators","programming","tutorial","functional programming","composed functions"],"articleBody":"Originally posted on 2020-04-03\nWhether you are a beginner or an advanced programmer, there are many reasons why you should choose Python for your next coding project. Python is a scripted language with an almost stupidly simple syntax, it is easy to learn and powerful to use. One of the main reasons that I love people love Python is that it offers quite a few specific metaphors (a.k.a. paradigms) for doing certain things. One of these things involves wrapping functions with some repetitively used code. And so, in your quest to becoming a true Pythonista lies a special kind of function that will help you improve and streamline your code: decorators.\nWrapping a function Imagine we have some API endpoint. We will simulate the behaviour of that endpoint with the api_endpoint function, which will return a response after a 1 second delay.\nimport time def api_endpoint(seconds=1): time.sleep(seconds) return 'API response' Let’s say that in our application we have a function that performs a request to this api endpoint and subsequently returns the result.\ndef call_api(): result = api_endpoint() return result result = call_api() print('result: ', result) result: API response Now let’s imagine that we would like to time the execution of our api call. We can easily do this by using the time.time function and calculating the difference between the before and after times.\ndef call_api_timed(): # [1] \u003e\u003e\u003e start timer start = time.time() # [2] \u003e\u003e\u003e call the api result = api_endpoint() # [3] \u003e\u003e\u003e end timer, print the time difference # and return the result end = time.time() print('seconds:', end - start) return result result = call_api_timed() print('result: ', result) seconds: 1.0051519870758057 result: API response Really simple and works as expected!\nThe Python way In Python we strive to do the minimum that gets the job done. That’s the essence of a true Pythonista: no upfront design required, no complicated code necessary. Simply write the most bare bones, quick and dumb program you can that gets the job done and move on (go home to your kids what are you doing so late at your job?).\nHowever, there are times when keeping things primitive only makes the overall picture increasingly complicated. This is especially true when our application performs lots of repetitive tasks. This is where the magic of Python lies: Python allows you to extend your code in a simple way, without introducing much overhead. For that purpose it offers a number of coding paradigms, one of which we’re going to be using today: decorators.\nA decorator is a repeatable bit of code that you want to run before and after some function execution.\nIn our example we wrote 3 lines of code within our call_api function in order to keep track of how long the api takes to respond. Imagine now that we have multiple different functions that call different API endpoints and we would also like to time all of them. If we keep doing it the same way as we did earlier, a lot of code would start to get duplicated.\n# # We would have to repeat the same lines of code # for all the following functions # ... def api_endpoint_2(): pass def api_endpoint_3(): pass def api_endpoint_4(): pass # ... # ... # ... The problem with duplication is that it affects code readability and maintainability: our code becomes harder to read and more difficult and time consuming to maintain.\nTo solve this issue, let us define a function that automatically does the timing for us.\ndef time_me(func): def wrapper(): ### BEFORE CODE # [1] \u003e\u003e\u003e start timer start = time.time() ### EXECUTE FUNCTION # [2] \u003e\u003e\u003e call the function we're wrapping result = func() ### AFTER CODE # [3] \u003e\u003e\u003e end timer, print the time difference # and return the result end = time.time() print('seconds:', end - start) return result return wrapper timed_api_call = time_me(call_api) timed_api_call() seconds: 1.0002648830413818 'API response' In the above example we wrote the function time_me, which accepts another function (our API endpoint calls) as argument and then effectively returns this function wrapped with some extra code: in our case the same lines we wrote before.\nNotice that time_me indeed returns a function:\ntimed_api_call ","wordCount":"1575","inLanguage":"en","datePublished":"2023-03-05T22:09:57+09:00","dateModified":"2023-03-05T22:09:57+09:00","author":{"@type":"Person","name":"Evgeny Roskach"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://genyrosk.github.io/posts/2023-03-05-learn-python-decorators/"},"publisher":{"@type":"Organization","name":"Evgeny Roskach's blog","logo":{"@type":"ImageObject","url":"https://genyrosk.github.io/favicon.ico"}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9PLC05TT7N"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9PLC05TT7N")</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://genyrosk.github.io/ accesskey=h title="Ev's stdout (Alt + H)"><img src=https://avatars.githubusercontent.com/u/9571838?v4 alt aria-label=logo height=35>Ev's stdout</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://genyrosk.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://genyrosk.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Learn Python Decorators</h1><div class=post-meta><span title='2023-03-05 22:09:57 +0900 +0900'>March 5, 2023</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Evgeny Roskach&nbsp;|&nbsp;<a href=https://github.com/genyrosk/genyrosk.github.io/tree/main/content//posts/python-decorators/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#wrapping-a-function>Wrapping a function</a></li><li><a href=#the-python-way>The Python way</a></li><li><a href=#decorator-syntax>Decorator syntax</a><ul><li><a href=#how-to-deal-with-arguments>How to deal with arguments</a></li><li><a href=#decorators-that-accept-arguments>Decorators that accept arguments</a></li><li><a href=#how-to-write-a-decorator-that-works-with-or-without-arguments>How to write a decorator that works with or without arguments</a></li></ul></li><li><a href=#bonus-class-implementation>Bonus: Class implementation</a></li></ul></nav></div></details></div><div class=post-content><p><em>Originally posted on 2020-04-03</em></p><p>Whether you are a beginner or an advanced programmer, there are many reasons why you should choose Python for your next coding project. Python is a scripted language with an almost <em>stupidly simple</em> syntax, it is easy to learn and powerful to use. One of the main reasons that <del>I love</del> people love Python is that it offers quite a few specific metaphors (a.k.a. paradigms) for doing certain things. One of these things involves <strong>wrapping functions with some repetitively used code</strong>. And so, in your quest to becoming a true Pythonista lies a special kind of function that will help you improve and streamline your code: <strong>decorators</strong>.</p><h2 id=wrapping-a-function>Wrapping a function<a hidden class=anchor aria-hidden=true href=#wrapping-a-function>#</a></h2><p>Imagine we have some API endpoint. We will simulate the behaviour of that endpoint with the <code>api_endpoint</code> function, which will return a response after a 1 second delay.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>api_endpoint</span><span class=p>(</span><span class=n>seconds</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>seconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;API response&#39;</span>
</span></span></code></pre></div><p>Let&rsquo;s say that in our application we have a function that performs a request to this api endpoint and subsequently returns the result.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>call_api</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;result: &#39;</span><span class=p>,</span> <span class=n>result</span><span class=p>)</span>
</span></span></code></pre></div><pre><code>result:  API response
</code></pre><p>Now let&rsquo;s imagine that we would like to time the execution of our api call. We can easily do this by using the <code>time.time</code> function and calculating the difference between the <em>before</em> and <em>after</em> times.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api_timed</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># [1] &gt;&gt;&gt; start timer</span>
</span></span><span class=line><span class=cl>    <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># [2] &gt;&gt;&gt; call the api</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># [3] &gt;&gt;&gt; end timer, print the time difference</span>
</span></span><span class=line><span class=cl>    <span class=c1>#         and return the result</span>
</span></span><span class=line><span class=cl>    <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;seconds:&#39;</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>call_api_timed</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;result: &#39;</span><span class=p>,</span> <span class=n>result</span><span class=p>)</span>
</span></span></code></pre></div><pre><code>seconds: 1.0051519870758057
result:  API response
</code></pre><p>Really simple and works as expected!</p><h2 id=the-python-way>The Python way<a hidden class=anchor aria-hidden=true href=#the-python-way>#</a></h2><p>In Python we strive to do the minimum that gets the job done. That&rsquo;s the essence of a true Pythonista: no upfront design required, no complicated code necessary. Simply write the most bare bones, quick and dumb program you can that gets the job done and move on (go home to your kids what are you doing so late at your job?).</p><p>However, there are times when keeping things primitive only makes the overall picture increasingly complicated. This is especially true when our application performs lots of repetitive tasks. This is where the magic of Python lies: Python allows you to extend your code in a simple way, without introducing much overhead. For that purpose it offers a number of coding paradigms, one of which we&rsquo;re going to be using today: <strong>decorators</strong>.</p><blockquote><p><em><em>A <strong>decorator</strong> is a repeatable bit of code that you want to run <strong>before</strong> and <strong>after</strong> some function execution.</em></em></p></blockquote><p>In our example we wrote 3 lines of code within our <code>call_api</code> function in order to keep track of how long the api takes to respond. Imagine now that we have multiple different functions that call different API endpoints and we would also like to time all of them. If we keep doing it the same way as we did earlier, a lot of code would start to get duplicated.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># We would have to repeat the same lines of code</span>
</span></span><span class=line><span class=cl><span class=c1># for all the following functions</span>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>api_endpoint_2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>api_endpoint_3</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>api_endpoint_4</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span></code></pre></div><p>The problem with duplication is that it affects code <strong>readability</strong> and <strong>maintainability</strong>: our code becomes harder to read and more difficult and time consuming to maintain.</p><p>To solve this issue, let us define a function that automatically does the timing for us.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>time_me</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=c1>### BEFORE CODE</span>
</span></span><span class=line><span class=cl>        <span class=c1># [1] &gt;&gt;&gt; start timer</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>### EXECUTE FUNCTION</span>
</span></span><span class=line><span class=cl>        <span class=c1># [2] &gt;&gt;&gt; call the function we&#39;re wrapping</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>### AFTER CODE</span>
</span></span><span class=line><span class=cl>        <span class=c1># [3] &gt;&gt;&gt; end timer, print the time difference</span>
</span></span><span class=line><span class=cl>        <span class=c1>#         and return the result</span>
</span></span><span class=line><span class=cl>        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;seconds:&#39;</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>timed_api_call</span> <span class=o>=</span> <span class=n>time_me</span><span class=p>(</span><span class=n>call_api</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>timed_api_call</span><span class=p>()</span>
</span></span></code></pre></div><pre><code>seconds: 1.0002648830413818
'API response'
</code></pre><p>In the above example we wrote the function <code>time_me</code>, which accepts another function (our API endpoint calls) as argument and then effectively returns this function <em>wrapped</em> with some extra code: in our case the same lines we wrote before.</p><p>Notice that <code>time_me</code> indeed returns a function:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>timed_api_call</span>
</span></span></code></pre></div><pre><code>&lt;function __main__.time_me.&lt;locals&gt;.wrapper()&gt;
</code></pre><p>Thus, whenever we call <code>timed_api_call</code>, we&rsquo;re actually calling the <code>wrapper</code> code block within the <code>time_me</code> function. This paradigm is often referred to as <strong>function composition</strong>.</p><p>Ins&rsquo;t this just plain awesome?! We can now wrap this timer around any function to print out the time it took to execute and also get the result from the function execution.</p><p>Nevertheless, this introduces another, albeit minor, problem: long and convoluted lines of code. If we start to chain functions one after another, our code will become increasingly hard to read.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>first_function</span><span class=p>(</span><span class=n>second_function</span><span class=p>(</span><span class=n>third_function</span><span class=p>(</span><span class=o>...</span><span class=p>)))</span>
</span></span></code></pre></div><p>In addition, we still need to explicitly perform the function composition by writing <code>timed_api_call = time_me(call_api)</code>. There&rsquo;s got to be a better way&mldr;</p><h2 id=decorator-syntax>Decorator syntax<a hidden class=anchor aria-hidden=true href=#decorator-syntax>#</a></h2><p>Enter the decorator syntactic sugar. With this special syntax, we can wrap/decorate a function with another function (that we call a decorator) using <code>@</code> followed by the decorator symbol above the function definition. Like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@decorator_func</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>function_being_wrapped</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></div><p>You can now perhaps see why the name &ldquo;decorator&rdquo; was chosen. We are decorating our function with it.</p><p>Every time we call <code>function_being_wrapped</code>, <code>decorator_func</code> is executed beforehand. A decorator is just that: an ergonomic wrapper function.</p><p>There is no more extra code we need to write, we simply <strong>decorate</strong> our <code>call_api</code> function with the <code>time_me</code> decorator:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@time_me</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>call_api</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;result: &#39;</span><span class=p>,</span> <span class=n>result</span><span class=p>)</span>
</span></span></code></pre></div><pre><code>seconds: 1.004122257232666
result:  API response
</code></pre><p>It just works!</p><h3 id=how-to-deal-with-arguments>How to deal with arguments<a hidden class=anchor aria-hidden=true href=#how-to-deal-with-arguments>#</a></h3><p>We can also extend the functionality of our decorator by having it pass incoming arguments to the wrapped function.</p><p>We want the function that is returned by <code>time_me</code>, i.e. <code>wrapper</code>, to accept and pass on the arguments that the wrapped function accepts. Luckily Python has some additional syntactic sugar to allow for an arbitrary number of arguments and keyed arguments to be passed around.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>time_me</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span> <span class=c1>## accept arguments        </span>
</span></span><span class=line><span class=cl>        <span class=c1>### BEFORE CODE</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span> <span class=c1># start time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>### EXECUTE FUNCTION</span>
</span></span><span class=line><span class=cl>        <span class=c1># &gt;&gt;&gt; pass the arguments to the function we&#39;re wrapping</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;arguments passed:&#39;</span><span class=p>,</span> <span class=n>args</span><span class=p>,</span> <span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>### AFTER CODE</span>
</span></span><span class=line><span class=cl>        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;seconds:&#39;</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@time_me</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api</span><span class=p>(</span><span class=n>seconds</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>(</span><span class=n>seconds</span><span class=o>=</span><span class=n>seconds</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>call_api</span><span class=p>(</span><span class=mf>1.5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;result: &#39;</span><span class=p>,</span> <span class=n>result</span><span class=p>)</span>
</span></span></code></pre></div><pre><code>arguments passed: (1.5,) {}
seconds: 1.5012753009796143
result:  API response
</code></pre><h3 id=decorators-that-accept-arguments>Decorators that accept arguments<a hidden class=anchor aria-hidden=true href=#decorators-that-accept-arguments>#</a></h3><p>&ldquo;Can we pass arguments to the decorator itself?&rdquo; you might ask. The answer is yes! But we would have to do some additional modifications to allow our decorator to accept arguments. Let&rsquo;s say you would want this function to sometimes print seconds, while other times you would rather have it print milliseconds.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>time_me</span><span class=p>(</span><span class=n>milliseconds</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1>### BEFORE CODE</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>### EXECUTE FUNCTION</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>### AFTER CODE</span>
</span></span><span class=line><span class=cl>            <span class=c1># &gt;&gt;&gt; print in seconds or milliseconds</span>
</span></span><span class=line><span class=cl>            <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>milliseconds</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;milliseconds:&#39;</span><span class=p>,</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span><span class=o>*</span><span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;seconds:&#39;</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>    <span class=c1># &gt;&gt;&gt; time_me will return the &#34;actual&#34; decorator</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>decorator</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@time_me</span><span class=p>(</span><span class=n>milliseconds</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>res</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>call_api</span><span class=p>()</span>
</span></span></code></pre></div><pre><code>milliseconds: 1000.8730888366699
'API response'
</code></pre><p>Success!</p><p>Don&rsquo;t worry too much about the <code>@wraps</code> decorator: it&rsquo;s a special Python function that renames the wrapper name into the function that it&rsquo;s wrapping.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## without @wraps</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>call_api</span><span class=p>)</span>
</span></span></code></pre></div><pre><code>&lt;function time_me.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper at 0x11160a2f0&gt;
</code></pre><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## with @wraps</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>call_api</span><span class=p>)</span>
</span></span></code></pre></div><pre><code>&lt;function call_api at 0x11160a268&gt;
</code></pre><p>It helps with debugging. Keep this in mind when you&rsquo;re writing open source code or if you&rsquo;re expecting other people to work with your functions.</p><h3 id=how-to-write-a-decorator-that-works-with-or-without-arguments>How to write a decorator that works with or without arguments<a hidden class=anchor aria-hidden=true href=#how-to-write-a-decorator-that-works-with-or-without-arguments>#</a></h3><p>With a little bit of care, you can also define decorators that can be used both with and without arguments. Most likely, you don’t need this, but sometimes it is nice to have the flexibility.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>functools</span> <span class=kn>import</span> <span class=n>wraps</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>time_me</span><span class=p>(</span><span class=n>_func</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>milliseconds</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>### same as before</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>milliseconds</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;milliseconds:&#39;</span><span class=p>,</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span><span class=o>*</span><span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;seconds:&#39;</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>wrapper</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>### &gt;&gt;&gt; call the decorator if the first argument is a function</span>
</span></span><span class=line><span class=cl>    <span class=c1>### &gt;&gt;&gt; otherwise return the decorator function (without calling it)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>_func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>decorator</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>decorator</span><span class=p>(</span><span class=n>_func</span><span class=p>)</span>
</span></span></code></pre></div><p>Then all the following can work:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@time_me</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api_1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@time_me</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api_2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@time_me</span><span class=p>(</span><span class=n>milliseconds</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>call_api_3</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>api_endpoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>res</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>call_api_1</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>call_api_2</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>call_api_3</span><span class=p>())</span>
</span></span></code></pre></div><pre><code>seconds: 1.0042738914489746
API response
seconds: 1.0040597915649414
API response
milliseconds: 1002.3050308227539
API response
</code></pre><h2 id=bonus-class-implementation>Bonus: Class implementation<a hidden class=anchor aria-hidden=true href=#bonus-class-implementation>#</a></h2><p>Python treats everything as an object. <strong>Everything</strong>. That includes variables, functions, classes, lists, etc.</p><p>Python includes special class syntax that allows a decorator to be expressed in a class form. Whenever a class instance is called, the Python interpreter calls the <code>__call__</code> method in the background for us. We can intercept this calling by overriding this class method in our class definition.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>TimeMe</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>milliseconds</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>milliseconds</span> <span class=o>=</span> <span class=n>milliseconds</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>decorator</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span> <span class=o>=</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>milliseconds</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;milliseconds:&#39;</span><span class=p>,</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span><span class=o>*</span><span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;seconds:&#39;</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>decorator</span>     
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>timer</span> <span class=o>=</span> <span class=n>TimeMe</span><span class=p>(</span><span class=n>milliseconds</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@timer</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func_1</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>2</span><span class=o>*</span><span class=n>x</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@TimeMe</span><span class=p>(</span><span class=n>milliseconds</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>some_func_2</span><span class=p>(</span><span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>3</span><span class=o>*</span><span class=n>x</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;result: &#39;</span><span class=p>,</span> <span class=n>some_func_1</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;result: &#39;</span><span class=p>,</span> <span class=n>some_func_2</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>milliseconds: 0.00095367431640625
</span></span><span class=line><span class=cl>result:  <span class=m>200</span>
</span></span><span class=line><span class=cl>milliseconds: 0.0021457672119140625
</span></span><span class=line><span class=cl>result:  <span class=m>300</span>
</span></span></code></pre></div><p>I hope this helped. Thank you for reading!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://genyrosk.github.io/tags/python/>python</a></li><li><a href=https://genyrosk.github.io/tags/decorators/>decorators</a></li><li><a href=https://genyrosk.github.io/tags/programming/>programming</a></li><li><a href=https://genyrosk.github.io/tags/tutorial/>tutorial</a></li><li><a href=https://genyrosk.github.io/tags/functional-programming/>functional programming</a></li><li><a href=https://genyrosk.github.io/tags/composed-functions/>composed functions</a></li></ul><nav class=paginav><a class=prev href=https://genyrosk.github.io/posts/2023-03-05-learn-python-context-managers/><span class=title>« Prev</span><br><span>Learn Python Context Managers</span></a>
<a class=next href=https://genyrosk.github.io/posts/2023-03-05-learn-python-generators/><span class=title>Next »</span><br><span>Learn Python Generators</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Learn Python Decorators on twitter" href="https://twitter.com/intent/tweet/?text=Learn%20Python%20Decorators&amp;url=https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f&amp;hashtags=python%2cdecorators%2cprogramming%2ctutorial%2cfunctionalprogramming%2ccomposedfunctions"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Learn Python Decorators on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f&amp;title=Learn%20Python%20Decorators&amp;summary=Learn%20Python%20Decorators&amp;source=https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Learn Python Decorators on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f&title=Learn%20Python%20Decorators"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Learn Python Decorators on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Learn Python Decorators on whatsapp" href="https://api.whatsapp.com/send?text=Learn%20Python%20Decorators%20-%20https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Learn Python Decorators on telegram" href="https://telegram.me/share/url?text=Learn%20Python%20Decorators&amp;url=https%3a%2f%2fgenyrosk.github.io%2fposts%2f2023-03-05-learn-python-decorators%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://genyrosk.github.io/>Evgeny Roskach's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>